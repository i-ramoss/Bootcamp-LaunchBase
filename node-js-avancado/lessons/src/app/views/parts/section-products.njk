{% macro products(name, classes, products) %}

  <section class="shop {{classes}}">
    {% if name %}
      <h2>{{name}}</h2>
    {% endif %}
    
    <div class="items">
      {% for product in products %}
        <div class="product">
          <div 
            class="image"
            style="background-image: url('{{product.img if product.img else '//via.placeholder.com/500x500?text=No-Image'}}')"
            >
          </div>
          
            {% if product.formattedOldPrice != product.formattedPrice %}
              <div class="old-price">{{ product.formattedOldPrice }}</div>
            {% endif %}

            <p>{{ product.formattedPrice }}</p>
            <h4>{{ product.name }}</h4>

            <a href="/products/{{product.id}}" class="button home">View Product</a>
        </div>
      {% endfor %}
    </div>
  </section>

{% endmacro %}